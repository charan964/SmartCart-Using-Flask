{% extends "layout.html" %}
{% block content %}

<h3 class="fw-bold mb-4 text-center">Manage Orders</h3>

{% if orders|length == 0 %}
<div class="alert alert-warning text-center">No Orders Available</div>
{% else %}

<div class="table-responsive mb-5">
<table class="table table-bordered table-hover shadow-sm align-middle text-center">

    <thead class="table-primary">
        <tr>
            <th>Order ID</th>
            <th>User</th>
            <th>Amount</th>
            <th>Total Items</th>
            <th>Current Status</th>
            <th>Change Status</th>
        </tr>
    </thead>

    <tbody>
        {% for o in orders %}
        <tr>
            <td>{{ o.order_id }}</td>

            <td>
                {{ o.user_name }} <br>
                <small class="text-muted">{{ o.user_email }}</small>
            </td>

            <td>â‚¹{{ o.amount }}</td>
            <td>{{ o.total_items }}</td>

            <td>
                <span class="badge bg-info text-dark">{{ o.status }}</span>
            </td>

            <td>
                <form method="POST" action="/admin/update-order-status/{{ o.order_id }}" class="d-flex">

                    <select name="status" class="form-select me-2">
                        <option value="Placed" {% if o.status=='Placed' %}selected{% endif %}>Placed</option>
                        <option value="Packed" {% if o.status=='Packed' %}selected{% endif %}>Packed</option>
                        <option value="Shipped" {% if o.status=='Shipped' %}selected{% endif %}>Shipped</option>
                        <option value="Out for Delivery" {% if o.status=='Out for Delivery' %}selected{% endif %}>Out for Delivery</option>
                        <option value="Delivered" {% if o.status=='Delivered' %}selected{% endif %}>Delivered</option>
                    </select>

                    <button class="btn btn-success btn-sm">Update</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>

</table>
</div>

{% endif %}

<style>
.table {
    border-radius: 12px;
}
</style>

{% endblock %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ title if title else "SmartCart" }}</title>

    <!-- CSS -->
    <link rel="stylesheet" href="/static/css/style.css">

    <!-- MOBILE VIEWPORT FIX -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>


<!-- ============================================
     NAVBAR (Public + Admin + Mobile Menu)
=============================================== -->
<nav class="navbar">

    <div class="logo">
        {% if session.get('admin_id') %}
            SmartCart Admin
        {% else %}
            SmartCart
        {% endif %}
    </div>

    <!-- Hamburger icon (mobile only) -->
    <div class="menu-icon" onclick="toggleMenu()">
        ☰
    </div>

    <!-- NAV LINKS -->
    <ul id="nav-links">

        {% if not session.get('admin_id') %}
            <li><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/contact">Contact</a></li>
            

        {% else %}
            <li><a href="/admin-dashboard">Dashboard</a></li>
            <li><a href="/admin/add-item">Add Items</a></li>
            <li><a href="/admin/item-list">View Items</a></li>
            <li><a href="/admin-logout">Logout</a></li>
        {% endif %}

    </ul>
</nav>


<!-- MOBILE MENU SCRIPT -->
<script>
function toggleMenu() {
    const nav = document.getElementById("nav-links");
    nav.classList.toggle("show");
}
</script>



<!-- ============================================
     FLASH MESSAGES
=============================================== -->
<div class="flash-box">
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, msg in messages %}
            <div class="flash {{ category }}">{{ msg }}</div>
        {% endfor %}
    {% endif %}
{% endwith %}
</div>



<!-- ============================================
     MAIN PAGE CONTENT
=============================================== -->
<div class="content">
    {% block content %}{% endblock %}
</div>



<!-- ============================================
     FOOTER
=============================================== -->
<footer>
    <p>© 2025 SmartCart | All Rights Reserved</p>
</footer>



</body>
</html>

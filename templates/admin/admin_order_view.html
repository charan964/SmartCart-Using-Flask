{% extends "layout.html" %}
{% block content %}

<h3 class="mt-3">Order Details (ID: {{ order.order_id }})</h3>

<div class="card shadow-sm p-3 mt-3">
    <h5>User ID: {{ order.user_id }}</h5>
    <p><strong>Amount:</strong> ₹{{ order.amount }}</p>
    <p><strong>Date:</strong> {{ order.created_at }}</p>

    <h5>Delivery Address</h5>
    <pre>{{ order.delivery_address }}</pre>

    <h5>Items</h5>
    <table class="table table-bordered mt-2">
        <tr>
            <th>Product</th>
            <th>Qty</th>
            <th>Price</th>
        </tr>

        {% for it in items %}
        <tr>
            <td>{{ it.product_name }}</td>
            <td>{{ it.quantity }}</td>
            <td>₹{{ it.price }}</td>
        </tr>
        {% endfor %}
    </table>

    <form method="POST" action="/admin/update-order-status/{{ order.order_id }}">
        <label class="form-label fw-bold">Update Order Status:</label>
        <select name="status" class="form-select mb-3">
            <option>Packed</option>
            <option>Shipped</option>
            <option>Out for Delivery</option>
            <option>Delivered</option>
        </select>

        <button class="btn btn-success w-100">Update Status</button>
    </form>
</div>

{% endblock %}

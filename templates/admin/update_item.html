{% extends "layout.html" %}
{% block content %}

<div class="product-card-form">

    <h2>Update Product</h2>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% for category, message in messages %}
        <p class="form-msg {{ category }}">{{ message }}</p>
      {% endfor %}
    {% endwith %}

    <form method="POST" action="/admin/update-item/{{ product.product_id }}" enctype="multipart/form-data">

        <label>Product Name</label>
        <input type="text" name="name" value="{{ product.name }}" required>

        <label>Description</label>
        <textarea name="description" required>{{ product.description }}</textarea>

        <label>Category</label>
        <input type="text" name="category" value="{{ product.category }}" required>

        <label>Price</label>
        <input type="number" step="0.01" name="price" value="{{ product.price }}" required>

        <label>Current Image</label><br>
        <img src="/static/uploads/product_images/{{ product.image }}" class="update-img"><br><br>

        <label>Choose New Image (Optional)</label>
        <input type="file" name="image" class="file-input" accept="image/*">

        <button class="btn submit-btn">Update Product</button>
    </form>

    <a href="/admin/item-list" class="btn back-btn" style="margin-top:15px; display:block;">Back</a>

</div>

{% endblock %}

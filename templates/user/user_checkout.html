{% extends "layout.html" %}
{% block content %}

<div class="container py-4">

    <h2 class="fw-bold mb-4">Checkout</h2>

    <div class="row">

        <!-- LEFT: ITEMS -->
        <div class="col-md-8">

            <div class="card shadow-sm p-3">
                <h4 class="fw-bold mb-3">Order Summary</h4>

                {% for pid, item in cart.items() %}
                <div class="d-flex align-items-center border-bottom py-2">

                    <img src="/static/uploads/product_images/{{ item.image }}" 
                         class="rounded" width="70">

                    <div class="ms-3">
                        <h5 class="mb-1">{{ item.name }}</h5>
                        <p class="mb-1">₹ {{ item.price }} x {{ item.quantity }}</p>
                        <strong>₹ {{ item.price * item.quantity }}</strong>
                    </div>
                </div>
                {% endfor %}
            </div>

        </div>

        <!-- RIGHT: BILLING -->
        <div class="col-md-4">

            <div class="card shadow-sm p-3">

                <h4 class="fw-bold">Price Details</h4>
                <hr>

                <p class="d-flex justify-content-between">
                    <span>Total Items:</span>
                    <strong>{{ cart|length }}</strong>
                </p>

                <p class="d-flex justify-content-between">
                    <span>Total Amount:</span>
                    <strong>₹ {{ grand_total }}</strong>
                </p>

                <hr>

                <a href="#" class="btn btn-success btn-lg w-100 mt-2">
                    <i class="fa fa-check-circle"></i> Place Order
                </a>

            </div>

        </div>

    </div>

</div>

{% endblock %}

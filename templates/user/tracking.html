{% extends "layout.html" %}
{% block content %}

<div class="container mt-4">

    <h2 class="mb-4">Track Your Order</h2>

    <div class="card shadow-sm p-4">
        <h4>Order ID: #{{ order.order_id }}</h4>
        <p class="text-muted">Placed on {{ order.created_at }}</p>

        <hr>

        <!-- Progress Bar -->
        <div class="track-container">
            <div class="track-step {% if order.order_status in ['Packed','Shipped','Out for Delivery','Delivered'] %}active{% endif %}">
                <i class="fa fa-check-circle"></i>
                <p>Order Placed</p>
            </div>

            <div class="track-step {% if order.order_status in ['Shipped','Out for Delivery','Delivered'] %}active{% endif %}">
                <i class="fa fa-box"></i>
                <p>Packed</p>
            </div>

            <div class="track-step {% if order.order_status in ['Out for Delivery','Delivered'] %}active{% endif %}">
                <i class="fa fa-truck"></i>
                <p>Shipped</p>
            </div>

            <div class="track-step {% if order.order_status in ['Delivered'] %}active{% endif %}">
                <i class="fa fa-location-dot"></i>
                <p>Out for Delivery</p>
            </div>

            <div class="track-step {% if order.order_status == 'Delivered' %}active{% endif %}">
                <i class="fa fa-house-circle-check"></i>
                <p>Delivered</p>
            </div>
        </div>

        <hr>

        <h5 class="mt-3">Shipping Address</h5>
        <p style="white-space: pre-line;">{{ order.delivery_address }}</p>

        <h5 class="mt-3">Items</h5>
        <ul>
            {% for i in items %}
            <li>{{ i.product_name }} Ã— {{ i.quantity }}</li>
            {% endfor %}
        </ul>

    </div>
</div>

<style>
.track-container {
    display: flex;
    justify-content: space-between;
    margin-top: 20px;
    text-align: center;
}
.track-step {
    width: 20%;
    opacity: .4;
    transition: 0.3s;
}
.track-step.active {
    opacity: 1;
    color: green;
}
.track-step i {
    font-size: 28px;
}
</style>

{% endblock %}

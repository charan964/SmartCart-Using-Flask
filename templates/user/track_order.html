{% extends "layout.html" %}
{% block content %}

<div class="track-container">

    <!-- Brand Header -->
    <div class="track-header text-center">
        <img src="/static/logo.png" alt="SmartCart Logo" class="track-logo">
        <h2 class="fw-bold mt-2">Order Tracking</h2>
        <p class="text-muted">Order #{{ order.order_id }}</p>
    </div>

    <!-- Timeline -->
    <div class="timeline-container">

        <!-- Progress Line -->
        <div class="timeline-line"></div>

        <!-- Step 1 -->
        <div class="timeline-step {% if order.status in ['Placed','Packed','Shipped','Out for Delivery','Delivered'] %}active{% endif %}">
            <div class="icon"><i class="fa fa-check-circle"></i></div>
            <p>Placed</p>
        </div>

        <!-- Step 2 -->
        <div class="timeline-step {% if order.status in ['Packed','Shipped','Out for Delivery','Delivered'] %}active{% endif %}">
            <div class="icon"><i class="fa fa-box"></i></div>
            <p>Packed</p>
        </div>

        <!-- Step 3 -->
        <div class="timeline-step {% if order.status in ['Shipped','Out for Delivery','Delivered'] %}active{% endif %}">
            <div class="icon"><i class="fa fa-truck"></i></div>
            <p>Shipped</p>
        </div>

        <!-- Step 4 -->
        <div class="timeline-step {% if order.status in ['Out for Delivery','Delivered'] %}active{% endif %}">
            <div class="icon"><i class="fa fa-motorcycle"></i></div>
            <p>Out for Delivery</p>
        </div>

        <!-- Step 5 -->
        <div class="timeline-step {% if order.status == 'Delivered' %}active{% endif %}">
            <div class="icon"><i class="fa fa-house-user"></i></div>
            <p>Delivered</p>
        </div>

    </div>

    <div class="status-box shadow-sm mt-4">
        <h5 class="fw-bold">Current Status:</h5>
        <p class="status-text">{{ order.status }}</p>
    </div>

</div>

<style>
.track-container {
    max-width: 800px;
    margin: auto;
    margin-bottom: 120px;
}

.track-header .track-logo {
    width: 80px;
}

/* Timeline Section */
.timeline-container {
    display: flex;
    justify-content: space-between;
    position: relative;
    margin: 40px 0;
}

.timeline-line {
    position: absolute;
    top: 35px;
    left: 7%;
    width: 86%;
    height: 6px;
    background: #d7d7d7;
    z-index: 0;
    border-radius: 4px;
}

.timeline-step {
    text-align: center;
    width: 20%;
    z-index: 2;
}

.timeline-step .icon {
    width: 50px;
    height: 50px;
    background: #d7d7d7;
    border-radius: 50%;
    margin: auto;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 22px;
    color: white;
    transition: 0.3s;
}

.timeline-step.active .icon {
    background: #007bff;
    transform: scale(1.1);
}

.timeline-step p {
    margin-top: 8px;
    font-weight: 600;
    font-size: 14px;
}

/* Status Box */
.status-box {
    background: white;
    padding: 20px;
    border-radius: 10px;
}

.status-text {
    font-size: 18px;
    font-weight: 600;
    color: #007bff;
}
</style>

{% endblock %}
